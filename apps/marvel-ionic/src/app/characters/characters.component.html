<ion-header>
    <ion-toolbar>
        <ion-title>Characters</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="viewModel$ | async as viewModel">
    <ion-item *ngFor="let character of viewModel.characters" (click)="modal.present(); homeStateSvc.viewCharacterDetails(character.id)">
        <ion-avatar>
            <img [src]="character.thumbnail.thumbnailUrl" />
        </ion-avatar>
        
    <ion-label>{{character.name}}</ion-label>
    </ion-item>

    <!-- Modal -->
    <ion-modal #modal [canDismiss]="true" [presentingElement]="routerOutlet.nativeEl">
        <ng-template>
            <ion-content>
                <ion-header>
                    <ion-toolbar>
                        <ion-title>{{(currentCharacter$ | async)?.name}}</ion-title>
                    </ion-toolbar>
                </ion-header>
            </ion-content>
        </ng-template>
    </ion-modal>
</ion-content>